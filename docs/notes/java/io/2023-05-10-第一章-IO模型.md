# 第一章. I/O 模型

![network_program.png](:/c4a55acd3eb14106bc4241400e44acae)


## 1. 阻塞与/非阻塞 与 同步/异步

* 阻塞：发起者等待返回
* 非阻塞：发起者不等待返回
* 同步：接收者即时处理请求
* 异步：接收者闲时处理请求


## 2. 操作系统（Linux）五种 I/O 模型

1. 内存读写磁盘数据
	1. 发消息到内核
	2. 内核等待磁盘数据发送
	3. 内核复制数据到用户空间
2. 阻塞 I/O
	* 1、2、3 同步阻塞
![blocking_I:O.webp](:/cb9a6ce75c45490ea40cf8c3b7dca867)
3. 非阻塞 I/O
	* 定时发送 1，期间非阻塞
	* 等到返回 2 完成，同步阻塞 3
![non_blocking_I:O.webp](:/646b0fe4a5824674966fe2a140a1601c)
4. 多路复用 I/O
	* 建立单个管道，发送多个 1
	* 同步阻塞直到任意 2 完成，同步阻塞 3
![channel_I:O.webp](:/e626e02f541c45f2b78ce18a3e626f79)
5. 信号驱动 I/O
	* 发送 1 注册信号量
	* 非阻塞直到被通知 2，同步阻塞 3
![sign_I:O.jpeg](:/f49ab147710e45cd9bb27e6d23da5592)
6. 异步 I/O
	* 发送 1 通知内核处理
	* 非阻塞 2、3 完成收到通知
![asynchronous_I:O.webp](:/98bdbd4fadd54c5fa7e1c7c8a4724b48)


![Linux_I:O.webp](:/5bac18548396488a896b741487300ea0)



## 3. Java I/O 封装了操作系统的 I/O

* Java File I/O
* BIO（Blocking 同步阻塞 I/O）
	* FileInputStream
	* FileOutputStream
* NIO（New 同步非阻塞 I/O）
	* Channel
* AIO（异步 I/O）
	* Asynchronous